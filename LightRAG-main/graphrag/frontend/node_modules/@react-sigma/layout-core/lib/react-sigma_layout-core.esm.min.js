import{useSigma as t,isEqual as e}from"@react-sigma/core";import*as r from"react";import n,{useRef as a,useCallback as l,useState as i,useEffect as s}from"react";function o(r,n){const i=t(),s=a(n);e(s.current,n)||(s.current=n);return{positions:l((()=>s.current?r(i.getGraph(),s.current):{}),[i,s,r]),assign:l((()=>{s.current&&r.assign(i.getGraph(),s.current)}),[i,s,r])}}function c(r,n){const o=t(),[c,u]=i(!1),[p,g]=i(null),m=a(n);e(m.current,n)||(m.current=n),s((()=>{u(!1);let t=null;return m.current&&(t=new r(o.getGraph(),m.current)),g(t),()=>{null!==t&&t.kill()}}),[o,m,g,u,r]);return{stop:l((()=>{p&&(p.stop(),u(!1))}),[p,u]),start:l((()=>{p&&(p.start(),u(!0))}),[p,u]),kill:l((()=>{p&&p.kill(),u(!1)}),[p,u]),isRunning:c}}var u;function p(){return p=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},p.apply(null,arguments)}var g,m=function(t){return r.createElement("svg",p({xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",className:"play-solid_svg__svg-inline--fa play-solid_svg__fa-play play-solid_svg__fa-w-14","data-icon":"play","data-prefix":"fas",viewBox:"0 0 448 512",width:"1em",height:"1em"},t),u||(u=r.createElement("path",{fill:"currentColor",d:"M424.4 214.7 72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6"})))};function d(){return d=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},d.apply(null,arguments)}var f=function(t){return r.createElement("svg",d({xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",className:"stop-solid_svg__svg-inline--fa stop-solid_svg__fa-stop stop-solid_svg__fa-w-14","data-icon":"stop","data-prefix":"fas",viewBox:"0 0 448 512",width:"1em",height:"1em"},t),g||(g=r.createElement("path",{fill:"currentColor",d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48"})))};function h({id:e,className:r,style:a,layout:l,autoRunFor:i,children:o,labels:c={}}){const u=t(),{stop:p,start:g,isRunning:d}=l,h={className:`react-sigma-control ${r||""}`,id:e,style:a};return s((()=>{if(!u)return;let t=null;return void 0!==i&&i>-1&&u.getGraph().order>0&&(g(),t=i>0?window.setTimeout((()=>{p()}),i):null),()=>{t&&clearTimeout(t)}}),[i,g,p,u]),n.createElement("div",Object.assign({},h),n.createElement("button",{onClick:()=>d?p():g(),title:d?c.stop||"Stop the layout animation":c.start||"Start the layout animation"},o&&!d&&o[0],o&&d&&o[1],!o&&!d&&n.createElement(m,{style:{width:"1em"}}),!o&&d&&n.createElement(f,{style:{width:"1em"}})))}export{h as WorkerLayoutControl,o as useLayoutFactory,c as useWorkerLayoutFactory};
//# sourceMappingURL=react-sigma_layout-core.esm.min.js.map
