"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.useLayoutFactory = useLayoutFactory;
const core_1 = require("@react-sigma/core");
const react_1 = require("react");
/**
 * Factory for layout hook.
 */
function useLayoutFactory(layout, parameter) {
    const sigma = (0, core_1.useSigma)();
    // Default layout settings
    const settings = (0, react_1.useRef)(parameter);
    if (!(0, core_1.isEqual)(settings.current, parameter))
        settings.current = parameter;
    const positions = (0, react_1.useCallback)(() => {
        if (settings.current)
            return layout(sigma.getGraph(), settings.current);
        else
            return {};
    }, [sigma, settings, layout]);
    const assign = (0, react_1.useCallback)(() => {
        if (settings.current) {
            layout.assign(sigma.getGraph(), settings.current);
        }
    }, [sigma, settings, layout]);
    return { positions, assign };
}
//# sourceMappingURL=useLayoutFactory.js.map