!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@react-sigma/core"),require("react")):"function"==typeof define&&define.amd?define(["exports","@react-sigma/core","react"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self)["@react-sigma/layout-core"]={},e.core,e.React)}(this,(function(e,t,r){"use strict";function n(e){var t=Object.create(null);return e&&Object.keys(e).forEach((function(r){if("default"!==r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}})),t.default=e,Object.freeze(t)}var a,s=n(r);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l.apply(null,arguments)}var i,o=function(e){return s.createElement("svg",l({xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",className:"play-solid_svg__svg-inline--fa play-solid_svg__fa-play play-solid_svg__fa-w-14","data-icon":"play","data-prefix":"fas",viewBox:"0 0 448 512",width:"1em",height:"1em"},e),a||(a=s.createElement("path",{fill:"currentColor",d:"M424.4 214.7 72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6"})))};function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u.apply(null,arguments)}var c=function(e){return s.createElement("svg",u({xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",className:"stop-solid_svg__svg-inline--fa stop-solid_svg__fa-stop stop-solid_svg__fa-w-14","data-icon":"stop","data-prefix":"fas",viewBox:"0 0 448 512",width:"1em",height:"1em"},e),i||(i=s.createElement("path",{fill:"currentColor",d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48"})))};e.WorkerLayoutControl=function({id:e,className:n,style:a,layout:s,autoRunFor:l,children:i,labels:u={}}){const f=t.useSigma(),{stop:g,start:p,isRunning:d}=s,m={className:`react-sigma-control ${n||""}`,id:e,style:a};return r.useEffect((()=>{if(!f)return;let e=null;return void 0!==l&&l>-1&&f.getGraph().order>0&&(p(),e=l>0?window.setTimeout((()=>{g()}),l):null),()=>{e&&clearTimeout(e)}}),[l,p,g,f]),r.createElement("div",Object.assign({},m),r.createElement("button",{onClick:()=>d?g():p(),title:d?u.stop||"Stop the layout animation":u.start||"Start the layout animation"},i&&!d&&i[0],i&&d&&i[1],!i&&!d&&r.createElement(o,{style:{width:"1em"}}),!i&&d&&r.createElement(c,{style:{width:"1em"}})))},e.useLayoutFactory=function(e,n){const a=t.useSigma(),s=r.useRef(n);return t.isEqual(s.current,n)||(s.current=n),{positions:r.useCallback((()=>s.current?e(a.getGraph(),s.current):{}),[a,s,e]),assign:r.useCallback((()=>{s.current&&e.assign(a.getGraph(),s.current)}),[a,s,e])}},e.useWorkerLayoutFactory=function(e,n){const a=t.useSigma(),[s,l]=r.useState(!1),[i,o]=r.useState(null),u=r.useRef(n);return t.isEqual(u.current,n)||(u.current=n),r.useEffect((()=>{l(!1);let t=null;return u.current&&(t=new e(a.getGraph(),u.current)),o(t),()=>{null!==t&&t.kill()}}),[a,u,o,l,e]),{stop:r.useCallback((()=>{i&&(i.stop(),l(!1))}),[i,l]),start:r.useCallback((()=>{i&&(i.start(),l(!0))}),[i,l]),kill:r.useCallback((()=>{i&&i.kill(),l(!1)}),[i,l]),isRunning:s}}}));
//# sourceMappingURL=react-sigma_layout-core.umd.min.js.map
